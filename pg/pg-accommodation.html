<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <title>
   Accommodation options
  </title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link href="favicon.ico" rel="icon" sizes="any"/>
  <link href="favicon.svg" rel="icon" type="image/svg+xml"/>
  <link href="menu.css" rel="stylesheet"/>
  <link href="https://use.typekit.net/jou7rrz.css" rel="stylesheet"/>
  <link href="https://use.typekit.net/hvq7yfy.css" rel="stylesheet"/>
  <link href="gallery.css" rel="stylesheet"/>
  <link href="video.css" rel="stylesheet"/>
  <link href="testimonials-wide.css" rel="stylesheet"/>
  <link href="footer.css" rel="stylesheet"/>
  <link href="quotes.css" rel="stylesheet"/>
  <link href="pg-guide.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js">
  </script>
  <style>
   .su-main-text, .su-sub-text, .su-container p {
    text-align: center;
}

.full-width-container {
    background-color: #981F92;
    background-image: url(blob-pinker.svg);
}

.full-width-content-container {
    background-color: #440099;
    background-image: url(blob2.svg);
}

.quote-text, .quote-title {
    text-wrap: wrap;
    max-width: 70ch;
  }

  .su-container a {
    color: #1E064C;
  }

  .su-main-text {
    text-transform: none;
    font-size: 1.4rem;

  }

  .name {
    font-family: 'source-serif-pro';
    font-weight: 700;
    font-size: 1.4rem;
    text-transform: none;
  }

  h3.rank {
    margin-bottom: 0rem;
    font-family: 'source-serif-pro';
    font-weight: 700;
  }
  </style>
 </head>
 <body>
  <!-- Navbar -->
  <header class="navbar">
   <div class="container">
    <a href="pg-home.html">
     <div class="logo">
      <img alt="University of Sheffield" src="logo.png"/>
     </div>
    </a>
    <button aria-controls="menu" aria-expanded="false" aria-haspopup="dialog" class="hamburger" id="menuToggle">
     ☰
    </button>
   </div>
  </header>
  <!-- Fade-in Overlay Menu -->
  <div aria-labelledby="menuHeading" aria-modal="true" class="menu-overlay" id="menu" role="dialog">
   <div class="container">
     <div class="info-menu">
      <div class="text-banner">
        <span class="text-line-1">Made from</span>
        <span class="text-line-2">every</span>
        <span class="text-line-3">experience</span>
      </div>
  <div class="pub-title"><a href="pg-home.html">Postgraduate taught study guide 2025-26</a></div>
    </div>
    <div class="menu-item">
     <a href="pg-uni.html">
      <h2 id="menuHeading">
       Study at the University of the Year
      </h2>
      <p>
       Why study at Sheffield?
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-learning.html">
      <h2>
       Learning patterns designed around you
      </h2>
      <p>
       How you will learn at Sheffield
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-fees.html">
      <h2>
       Postgraduate funding
      </h2>
      <p>
       Your finance guide
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-apply.html">
      <h2>
       Apply
      </h2>
      <p>
       Steps and key dates
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-visit.html">
      <h2>
       Visit
      </h2>
      <p>
       See what it’s like to study at Sheffield
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-cost.html">
      <h2>
       Cost of living
      </h2>
      <p>
       A city you can afford to enjoy
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-city.html">
      <h2>
       City guide
      </h2>
      <p>
       An extraordinary place to live and study
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-accommodation.html">
      <h2>
       Accommodation options
      </h2>
      <p>
       Finding your new home
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-support.html">
      <h2>
       Daily support
      </h2>
      <p>
       Your wellbeing matters
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-community.html">
      <h2>
       Community
      </h2>
      <p>
       Everyone is welcome
      </p>
     </a>
    </div>
    <div class="menu-item">
     <a href="pg-careers.html">
      <h2>
       Career progression
      </h2>
      <p>
       Focused on your future
      </p>
     </a>
    </div>
   </div>
  </div>
  <section class="header-banner">
   <div class="full-width-container">
    <div class="contents-container">
     <h2 class="hotmess">
      Accommodation options
     </h2>
    </div>
   </div>
  </section>
  <section class="main-content">
   <div class="contents-container">
    <div class="copy-container">
     <p class="intro">
      Finding your new home
     </p>
     <p>
      Where you live can shape your whole postgraduate experience. We’re here to help you find somewhere safe, supported and suited to your life and study goals.
     </p>
     </div>
     <div class="gallery-container">
            <div class="main-image-container">
                <img id="mainImage" src="accom21.png" class="main-image" alt="Main image" onclick="openModal(0)">
                <!-- SVG Overlay Icon -->
                <div class="icon-overlay">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                        <path d="M344 0L488 0c13.3 0 24 10.7 24 24l0 144c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512L24 512c-13.3 0-24-10.7-24-24L0 344c0-9.7 5.8-18.5 14.8-22.2s19.3 1.7 26.2 5.2l39 39 87-87c9.4 9.4 24.6 9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"/>
                    </svg>
                </div>
            </div>
            <!-- Thumbnail Container -->
            <div class="thumbnail-container">
                <img src="accom21.png" class="thumbnail" alt="Thumbnail 1: The Wave" 
                     tabindex="0" role="button" onclick="changeMainImage(0)"
                     aria-label="Thumbnail 1" onkeydown="handleKeyChangeMainImage(event, 0)">
                <img src="accom1.jpg" class="thumbnail" alt="Thumbnail 2: Teaching spaces" 
                     tabindex="0" role="button" onclick="changeMainImage(1)"
                     aria-label="Thumbnail 2" onkeydown="handleKeyChangeMainImage(event, 1)">
                <img src="su3.jpg" class="thumbnail" alt="Thumbnail 3: Edit suites" 
                     tabindex="0" role="button" onclick="changeMainImage(2)"
                     aria-label="Thumbnail 3" onkeydown="handleKeyChangeMainImage(event, 2)">
                <img src="accom4.jpg" class="thumbnail" alt="Thumbnail 4: Research" 
                     tabindex="0" role="button" onclick="changeMainImage(3)"
                     aria-label="Thumbnail 4" onkeydown="handleKeyChangeMainImage(event, 3)">
            </div>
        </div>    
        <!-- Modal -->
        <div id="imageModal" class="modal" tabindex="-1" role="dialog" aria-modal="true" 
             aria-labelledby="imageTitle" aria-describedby="imageDescription" onclick="closeModal()">
             <span class="close" onclick="closeModal()" tabindex="0" role="button" aria-label="Close modal">&times;</span>
     <div class="modal-content-container">
                <div class="image-counter" id="imageCounter"></div>
                <span class="prev" onclick="changeImage(-1)" tabindex="0" role="button" aria-label="Previous image"
                      onkeydown="handleKeyChangeImage(event, -1)">&#10094;</span>
                <img id="modalImage" class="modal-content" alt="Modal Image">
                <span class="next" onclick="changeImage(1)" tabindex="0" role="button" aria-label="Next image"
                      onkeydown="handleKeyChangeImage(event, 1)">&#10095;</span>
                <div class="description-panel">
                    <h3 id="imageTitle">Image Title</h3>
                    <p id="imageDescription">Image Description</p>
                </div>
            </div>
        </div> 
     <div class="copy-container">
     <h3 class="rank">
      You are guaranteed a home
     </h3>
     <p>
      Every postgraduate student has the option of a place in University accommodation. You’ll need to accept our offer and send an application by certain dates, which you can check on our website.
     </p>
     <p>
      No landlords, no letting agents, just other postgraduate students like you. University accommodation is some of the best in the city. It couldn’t be easier to arrange, and comes with all this as standard:
     </p>
     <p>
      <ul>
       <li>
        Walking distance to campus
       </li>
       <li>
        Energy costs and contents insurance included
       </li>
       <li>
        24/7 customer services and security
       </li>
       <li>
        Wi-Fi
       </li>
      </ul>
     </p>
     <p>
      Everyone has a different idea of what it means to feel at home, so we offer as much flexibility as possible:
     </p>
     <p>
      <ul>
       <li>
        Room options, from shared bathrooms to studio apartments
       </li>
       <li>
        Adapted rooms for students with special requirements
       </li>
       <li>
        Family homes close to campus, shops and good schools
       </li>
       <li>
        Flexible contracts from 42 or 51 weeks
       </li>
      </ul>
     </p>
     <div class="su-container" data-aos="fade-in">
      <div class="su-main-text">
       Further information
      </div>
      <div class="su-sub-text">
       <p>
        <a href="https://www.sheffield.ac.uk/accommodation">
         Accommodation
        </a>
       </p>
      </div>
     </div>
     <div class="pagination-nav">
      <div class="pagination-item pagination-prev">
       <span class="pagination-label">
        ← Previous
       </span>
       <a href="pg-city.html">
        City guide
       </a>
      </div>
      <div class="pagination-item pagination-next">
       <span class="pagination-label">
        Next →
       </span>
       <a href="pg-support.html">
        Daily support
       </a>
      </div>
     </div>
    </div>
   </div>
  </section>
  <div class="cta-wrapper">
    <h2>Start your postgraduate journey...</h2>
   <div class="cta-container">
    <a class="cta-button" data-aos="zoom-in" href="https://www.sheffield.ac.uk/postgraduate/taught">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="#FF6371"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>      
     Search for a course
    </a>
    <a class="cta-button" data-aos="zoom-in" data-aos-delay="300" href="https://www.sheffield.ac.uk/postgraduate/visit/events">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" fill="#FF9664"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>
      Book an open day
    </a>
    <a class="cta-button" data-aos="zoom-in" data-aos-delay="600" href="https://www.sheffield.ac.uk/postgraduate/register-your-interest">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="#3BD4AE"><!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48L48 64zM0 176L0 384c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-208L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>
      Register your interest
    </a>
   </div>
  </div>
  <footer class="footer">
   <div class="footer-content">
    <div class="footer-bottom">
     <div class="footer-awards">
      <img alt="World Top 100 University" src="top100.png"/>
      <img alt="Russell Group" src="russellgroup.png"/>
      <img alt="University of the Year 2024" src="uoty.png"/>
      <img alt="Queen's Anniversary Prize" src="queens.png"/>
     </div>
    </div>
   </div>
  </footer>
  <script>
   // Modify event listener to avoid unintended closing of the modal on touch
document.querySelector('.prev').addEventListener('touchstart', (e) => {
    e.stopPropagation(); // Prevent touch from bubbling and triggering modal close
    changeImage(-1);
});

document.querySelector('.next').addEventListener('touchstart', (e) => {
    e.stopPropagation(); // Prevent touch from bubbling and triggering modal close
    changeImage(1);
});

// Prevent modal from closing when touching inside it
document.querySelector('.modal-content-container').addEventListener('touchstart', (e) => {
    e.stopPropagation();
});


 // Array of images for the gallery with titles and descriptions
const images = [
    {src: 'accom21.png', title: 'Steph Massey', description: 'Steph Massey graduated with a degree in Business Management in 2022. She is now working on a HR graduate scheme at TikTok.'},
    {src: 'accom1.jpg', title: 'Aaron Probert', description: 'Since graduating in 2019, Aaron has been hard at work bringing together his social enterprise, Labre’s Hope. He has partnered with leading charitable organisations and won £500,000 of UK Government funding.'},
    {src: 'su3.jpg', title: 'Helen Monks', description: 'School of English graduate Helen Monks is a writer and actor, known for her roles in Raised by Wolves and Upstart Crow.'},
    {src: 'accom4.jpg', title: 'Yash Bordia', description: 'Computer Science BSc graduate Yash Bordia works at PayPal within their UK Enterprise Integrations Team, assisting large enterprise merchants integrate PayPal solutions into their businesses.'},
];
let currentIndex = 0;


// Debounce function to prevent rapid calls
function debounce(func, delay) {
    let timeout;
    return function (...args) {
        clearTimeout(timeout);
        timeout = setTimeout(() => func.apply(this, args), delay);
    };
}

// Debounced changeImage function to avoid double navigation
const changeImage = debounce((direction) => {
    currentIndex = (currentIndex + direction + images.length) % images.length;
    updateModal();
}, 100); // 100ms debounce delay

// Change the main image on thumbnail click
function changeMainImage(index) {
    const image = images[index];
    document.getElementById("mainImage").src = image.src;
    document.getElementById("mainImage").setAttribute("onclick", `openModal(${index})`);
}

// Open the modal with the selected image
function openModal(index) {
    currentIndex = index;
    updateModal();
    const modal = document.getElementById("imageModal");
    modal.style.display = "flex";
    modal.setAttribute("aria-hidden", "false");
    modal.focus();
}

// Close the modal and return focus to the main image
function closeModal() {
    const modal = document.getElementById("imageModal");
    modal.style.display = "none";
    modal.setAttribute("aria-hidden", "true");
    document.getElementById("mainImage").focus();
}

// Update modal content based on the current image index
function updateModal() {
    const image = images[currentIndex];
    document.getElementById("modalImage").src = image.src;
    document.getElementById("imageTitle").innerText = image.title;
    document.getElementById("imageDescription").innerText = image.description;

    // Update the image counter
    document.getElementById("imageCounter").innerText = `${currentIndex + 1} of ${images.length}`;
}

// Handle Enter key to open modal on thumbnails
function handleKeyOpenModal(event, index) {
    if (event.key === 'Enter') {
        openModal(index);
    }
}

// Handle Enter key to change main image from thumbnails
function handleKeyChangeMainImage(event, index) {
    if (event.key === 'Enter') {
        changeMainImage(index);
    }
}

// Swipe detection for mobile navigation
let touchStartX = 0;
let touchEndX = 0;

function handleGesture() {
    if (touchEndX < touchStartX) {
        changeImage(1); // Swipe left to move to next image
    }
    if (touchEndX > touchStartX) {
        changeImage(-1); // Swipe right to move to previous image
    }
}

document.getElementById("imageModal").addEventListener("touchstart", (e) => {
    touchStartX = e.changedTouches[0].screenX;
});

document.getElementById("imageModal").addEventListener("touchend", (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleGesture();
});

// Prevent modal from closing when clicking inside the content container
document.querySelector('.modal-content-container').addEventListener('click', (e) => {
    e.stopPropagation();
});

// Use pointerdown for reliable navigation button interaction without double events
document.querySelector('.prev').addEventListener('pointerdown', (e) => {
    e.stopPropagation();
    changeImage(-1);
});

document.querySelector('.next').addEventListener('pointerdown', (e) => {
    e.stopPropagation();
    changeImage(1);
});

// Global function to initialize keyboard accessibility on page load
function initializeGalleryAccessibility() {
    // Get all thumbnails and add 'keydown' event listeners for Enter key
    const thumbnails = document.querySelectorAll('.thumbnail');
    thumbnails.forEach((thumbnail, index) => {
        thumbnail.setAttribute('tabindex', '0');
        thumbnail.addEventListener('keydown', (event) => handleKeyChangeMainImage(event, index));
        thumbnail.addEventListener('click', () => changeMainImage(index)); // Restore click functionality
    });

    // Set tabindex and keydown event for the main image to open modal
    const mainImage = document.getElementById("mainImage");
    mainImage.setAttribute('tabindex', '0');
    mainImage.addEventListener('keydown', (event) => handleKeyOpenModal(event, currentIndex));
}

// Global keyboard event listener for modal navigation
document.addEventListener('keydown', (event) => {
    const modal = document.getElementById("imageModal");

    // Only respond to keys if the modal is open
    if (modal.style.display === "flex") {
        if (event.key === 'Escape') {
            closeModal();
        } else if (event.key === 'ArrowRight') {
            changeImage(1);
        } else if (event.key === 'ArrowLeft') {
            changeImage(-1);
        }
    }
});

// Call initialize function when the page loads
window.onload = initializeGalleryAccessibility;
  </script>
  <script>
   function setSliderView() {
            const container = document.getElementById('sliderContainer');
            const navContainer = document.querySelector('.slider-nav-container');
        
            container.classList.remove('testimonial-grid');
            navContainer.classList.remove('hidden'); // Show nav container in slider view
        }
        
        function setGridView() {
            const container = document.getElementById('sliderContainer');
            const navContainer = document.querySelector('.slider-nav-container');
        
            container.classList.add('testimonial-grid');
            navContainer.classList.add('hidden'); // Hide nav container in grid view
        }
  </script>
  <!-- JavaScript -->
  <script>
   const menu = document.getElementById("menu");
    const toggleBtn = document.getElementById("menuToggle");

    function toggleMenu() {
      const isOpen = menu.classList.contains("active");

      if (isOpen) {
        menu.classList.remove("active");
        document.body.classList.remove("no-scroll");
        toggleBtn.setAttribute("aria-expanded", "false");
        toggleBtn.innerText = "☰";
        toggleBtn.focus();
      } else {
        menu.classList.add("active");
        document.body.classList.add("no-scroll");
        toggleBtn.setAttribute("aria-expanded", "true");
        toggleBtn.innerText = "✖";
        toggleBtn.focus();
      }
    }

    toggleBtn.addEventListener("click", toggleMenu);

    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && menu.classList.contains("active")) {
        toggleMenu();
      }

      if (menu.classList.contains("active")) {
        const focusable = menu.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])");
        const first = focusable[0];
        const last = focusable[focusable.length - 1];

        if (e.key === "Tab") {
          if (e.shiftKey && document.activeElement === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }
      }
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js">
  </script>
  <script>
   AOS.init({
    duration: 600,
    once: true
  });
  </script>
 </body>
</html>
